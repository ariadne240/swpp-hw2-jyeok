{"ast":null,"code":"var _jsxFileName = \"/home/jyeok/temp/swpphw2/swppfall2019/hw2/skeleton/src/container/Article/ArticleDetail/ArticleDetail.js\";\nimport React, { Component } from 'react';\nimport Logout from '../../Logout';\nimport { connect } from 'react-redux';\nimport * as actionCreator from '../../../store/action/actionCreator';\nimport Axios from 'axios';\n\nclass ArticleDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentInput: ''\n    };\n    this.props.fetchLoginInfo();\n    const id = this.props.history.location.pathname.replace('/articles/', '');\n    this.props.loadUsers();\n    this.props.loadArticle(id);\n    this.props.loadComments(id);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"ArticleDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ArticleContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \" Article Detail\"), React.createElement(\"h3\", {\n      id: \"article-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, this.props.article.title), React.createElement(\"h3\", {\n      id: \"article-author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, this.props.userList[this.props.article.author_id]), React.createElement(\"div\", {\n      id: \"article-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, this.props.article.content)), React.createElement(\"div\", {\n      className: \"ArticleDetail-Button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, this.props.article.author_id === this.props.currentUser && React.createElement(\"button\", {\n      id: \"edit-article-button\",\n      onClick: () => {\n        const url = this.props.history.location.pathname + '/edit';\n        this.props.history.push(url);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Edit\"), this.props.article.author_id === this.props.currentUser && React.createElement(\"button\", {\n      id: \"delete-article-button\",\n      onClick: () => {\n        Axios.delete('/api/articles/' + this.props.history.location.pathname.replace('/articles/', '')).then(() => this.props.history.push('/articles/'));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"button\", {\n      id: \"back-detail-article-button\",\n      onClick: () => this.props.history.push('/articles/'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Back\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.props.comments, React.createElement(\"input\", {\n      id: \"new-comment-content-input\",\n      onChange: e => {\n        this.setState({\n          commentInput: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"confirm-create-comment-button\",\n      disabled: this.state.commentInput === '',\n      onClick: () => {\n        Axios.post('/api/comments', {\n          article_id: this.props.history.location.pathname.replace('/articles/', ''),\n          author_id: this.props.currentUser,\n          content: this.state.commentInput\n        }).then(res => this.props.loadComments(this.props.history.location.pathname.replace('/articles/', '')));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Submit\"), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(Logout, {\n      history: this.props.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userList: state.blog.users,\n    article: state.blog.currentArticle,\n    currentUser: state.blog.account.id,\n    comments: state.blog.comments\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadUsers: () => {\n      dispatch(actionCreator.GET_USERS());\n    },\n    loadArticle: id => {\n      dispatch(actionCreator.GET_ARTICLE(id));\n    },\n    loadComments: articleId => {\n      dispatch(actionCreator.GET_COMMENTS(articleId));\n    },\n    fetchLoginInfo: () => {\n      dispatch(actionCreator.GET_LOGIN_INFO());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleDetail);","map":{"version":3,"sources":["/home/jyeok/temp/swpphw2/swppfall2019/hw2/skeleton/src/container/Article/ArticleDetail/ArticleDetail.js"],"names":["React","Component","Logout","connect","actionCreator","Axios","ArticleDetail","constructor","props","state","commentInput","fetchLoginInfo","id","history","location","pathname","replace","loadUsers","loadArticle","loadComments","render","article","title","userList","author_id","content","currentUser","url","push","delete","then","comments","e","setState","target","value","post","article_id","res","mapStateToProps","blog","users","currentArticle","account","mapDispatchToProps","dispatch","GET_USERS","GET_ARTICLE","articleId","GET_COMMENTS","GET_LOGIN_INFO"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Logout from '../../Logout'\nimport {connect} from 'react-redux';\nimport * as actionCreator from '../../../store/action/actionCreator';\nimport Axios from 'axios';\n\nclass ArticleDetail extends Component { \n    constructor(props) {\n        super(props);\n        this.props.fetchLoginInfo();\n        const id = this.props.history.location.pathname.replace('/articles/', '');\n        this.props.loadUsers();\n        this.props.loadArticle(id);\n        this.props.loadComments(id);\n    }\n\n    state = {\n        commentInput: ''\n    }\n    \n    render() { \n    return (\n        <div className='ArticleDetail'>\n            <div className='ArticleContainer'>\n                <h2> Article Detail</h2>\n                <h3 id='article-title'>{this.props.article.title}</h3>\n                <h3 id='article-author'>{this.props.userList[this.props.article.author_id]}</h3>\n                <div id='article-content'>{this.props.article.content}</div>\n            </div>\n\n            <div className='ArticleDetail-Button'>\n                {this.props.article.author_id === this.props.currentUser && <button id='edit-article-button' onClick={\n                    () => {\n                        const url = this.props.history.location.pathname + '/edit'\n                        this.props.history.push(url);\n                    }\n                }>Edit</button>}\n                {this.props.article.author_id === this.props.currentUser && <button id='delete-article-button' onClick={\n                    () => {\n                        Axios.delete('/api/articles/' + this.props.history.location.pathname.replace('/articles/', ''))\n                        .then(() => this.props.history.push('/articles/'));\n                    }\n                }>Delete</button>}\n                <button id='back-detail-article-button' onClick={() => this.props.history.push('/articles/')}>Back</button>\n            </div>\n            <br/>\n            \n            <div className=\"comment\">\n                {this.props.comments}\n                <input id='new-comment-content-input' onChange={(e) => {\n                    this.setState({\n                        commentInput: e.target.value\n                    });\n                }}/>\n                <button id='confirm-create-comment-button' disabled = {this.state.commentInput === ''} onClick={ () => {\n                    Axios.post('/api/comments', {\n                        article_id: this.props.history.location.pathname.replace('/articles/', ''),\n                        author_id: this.props.currentUser,\n                        content: this.state.commentInput\n                    }).then(\n                        res => this.props.loadComments(this.props.history.location.pathname.replace('/articles/', ''))\n                    )\n                }\n                }>Submit</button> <br/>\n            </div>\n            <Logout history={this.props.history}/>\n        </div>\n    )\n}\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        userList: state.blog.users,\n        article: state.blog.currentArticle,\n        currentUser: state.blog.account.id,\n        comments: state.blog.comments\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        loadUsers: () => {\n            dispatch(actionCreator.GET_USERS());\n        },\n\n        loadArticle: (id) => {\n            dispatch(actionCreator.GET_ARTICLE(id));\n        },\n\n        loadComments: (articleId) => {\n            dispatch(actionCreator.GET_COMMENTS(articleId));\n        },\n\n        fetchLoginInfo: () => {\n            dispatch(actionCreator.GET_LOGIN_INFO());\n        }\n    }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(ArticleDetail);"]},"metadata":{},"sourceType":"module"}